@{
    Layout = "";
}

<div ng-controller="ProductoAtributosCtrl">
    <h2 ng-model="productoAtributos">{{productoAtributos.Nombre}}</h2>
    <h3>Edición de atributos</h3>
    <div ng-model="productoAtributos" style="overflow: auto; max-height: 300px; max-width:100%;">
        <table id="attributes" data-productid="{{productoAtributos.Id}}" class="table table-striped table-hover table-condensed">
            <thead>
                <tr>
                    <th colspan="2">Acciones</th>
                    <th>Rubro</th>
                    <th>Nombre</th>
                    <th>Valor</th>
                </tr>
            </thead>
            <tbody style="overflow: scroll">
                    
                <tr ng-repeat="attr in productoAtributos.Atributos">
                        <td>
                            <a class="btn btn-sm btn-primary" ng-show="showReadAttr(attr)" ng-click="editAttribute(attr)">Editar</a>
                            <a class="btn btn-sm btn-default" ng-show="showEditAttr(attr)" ng-click="cancelAttributeEdition(attr)">Cancelar</a>
                        </td>
                        <td>
                            <a class="btn btn-sm btn-default" ng-show="showEditAttr(attr)" ng-click="savePartialAttributeEdition()">Ok</a>
                        </td>
                        <td>
                            <label>{{attr.Rubro}}</label>
                        </td>
                        <td>
                            <label>{{attr.Nombre}}</label>
                        </td>
                        <td>
                           <div ng-if="attr.TipoDato == 1">
                               <label ng-show="showReadAttr(attr)">{{attr.equivalencia_valor}}</label>
                               <input ng-model="attr.equivalencia_valor" ng-show="showEditAttr(attr)" type="text"/>
                           </div>
                             <div ng-if="attr.TipoDato == 2">
                               <label ng-show="showReadAttr(attr)">{{attr.equivalencia_valor}}</label>
                               <input ng-model="attr.equivalencia_valor" ng-show="showEditAttr(attr)"/>
                           </div>
                            <div ng-if="attr.TipoDato == 3">
                               <div ng-if="attr.equivalencia_valor == '1' || attr.equivalencia_valor == 'SI'"><label ng-show="showReadAttr(attr)">SI</label>
                                   <input ng-model="attr.equivalencia_valor" ng-show="showEditAttr(attr)" value="SI" type="radio" /><label ng-show="showEditAttr(attr)"> SI</label>
                                   <input ng-model="attr.equivalencia_valor" ng-show="showEditAttr(attr)" value="NO" type="radio" /><label ng-show="showEditAttr(attr)"> NO</label>
                               </div>
                               <div ng-if="attr.equivalencia_valor == '0' || attr.equivalencia_valor == 'NO'"><label ng-show="showReadAttr(attr)">NO</label>
                                   <input ng-model="attr.equivalencia_valor" ng-show="showEditAttr(attr)" type="radio" value="SI" /><label ng-show="showEditAttr(attr)"> SI</label>
                                   <input ng-model="attr.equivalencia_valor" ng-show="showEditAttr(attr)" type="radio" value="NO" /><label ng-show="showEditAttr(attr)"> NO</label>
                               </div>
                               <div ng-if="(attr.equivalencia_valor < '0')"><label ng-show="showReadAttr(attr)"> - </label>
                                    <input ng-model="attr.equivalencia_valor" ng-show="showEditAttr(attr)" type="radio" value="SI" /><label ng-show="showEditAttr(attr)"> SI</label>
                                   <input ng-model="attr.equivalencia_valor" ng-show="showEditAttr(attr)" type="radio"  value="NO" /><label ng-show="showEditAttr(attr)"> NO</label>
                               </div>
                           </div>
                             <div ng-if="attr.TipoDato == 4">
                               <label ng-show="showReadAttr(attr)">{{attr.equivalencia_valor}} %</label>
                               <input ng-model="attr.equivalencia_valor" ng-show="showEditAttr(attr)" type="text" />
                           </div>
                             
                        </td> 
                    </tr>
            </tbody>
        </table>
    </div>
    <br />
    <button type="button" class="btn btn-sm btn-success" ng-click="saveAttributeEdition()">Guardar</button>

</div>